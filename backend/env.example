# FastAPI Backend Configuration
# Copy this file to .env and fill in your actual API keys

# ==================== Server Configuration ====================
HOST=0.0.0.0
PORT=8000
LOG_LEVEL=INFO
API_TITLE=AI Movie Agent API
API_VERSION=1.0.0

# ==================== LLM Service Configuration ====================
# Fast LLM (for prompt optimization)
FAST_LLM_API_KEY=your_fast_llm_api_key_here
FAST_LLM_API_URL=https://dashscope.aliyuncs.com/compatible-mode/v1
FAST_LLM_MODEL=qwen3-next-80b-a3b-instruct
ENABLE_PROMPT_OPTIMIZATION=true

# Judge LLM (for image quality scoring)
JUDGE_LLM_API_KEY=your_judge_llm_api_key_here
JUDGE_LLM_API_URL=https://ark.cn-beijing.volces.com/api/v3
JUDGE_LLM_MODEL=doubao-seed-1-6-251015
ENABLE_CHARACTER_CONSISTENCY_JUDGE=true

# ==================== Image Service Configuration ====================
# Default image service: doubao, nano_banana, or midjourney
IMAGE_SERVICE_TYPE=doubao

# Doubao (豆包) Image Service
DOUBAO_API_KEY=your_doubao_api_key_here
DOUBAO_BASE_URL=https://ark.cn-beijing.volces.com
DOUBAO_ENDPOINT=/api/v3/images/generations
DOUBAO_MODEL=doubao-seedream-4-5-251128
DOUBAO_WATERMARK=false

# Nano Banana Pro Image Service
NANO_BANANA_API_KEY=your_nano_banana_api_key_here
NANO_BANANA_BASE_URL=https://api.nanobananapro.com/v1
NANO_BANANA_ENDPOINT=/generate
NANO_BANANA_MODEL=dall-e-3

# Midjourney Image Service
MIDJOURNEY_API_KEY=your_midjourney_api_key_here
MIDJOURNEY_BASE_URL=https://api.kuai.host
MIDJOURNEY_BOT_TYPE=MID_JOURNEY
MIDJOURNEY_POLL_INTERVAL=3.0
MIDJOURNEY_MAX_POLL_ATTEMPTS=100
MIDJOURNEY_AUTO_UPSCALE=false
MIDJOURNEY_UPSCALE_INDEX=1

# ==================== Video Service Configuration ====================
# Veo3 Video Generation Service
VEO3_API_KEY=your_veo3_api_key_here
VEO3_BASE_URL=https://api.kuai.host
VEO3_ENDPOINT=/v1/videos
VEO3_MODEL=veo_3_1
VEO3_SKIP_UPLOAD=true

# Video Generation Retry Configuration
VIDEO_GENERATION_MAX_RETRIES=3
VIDEO_GENERATION_RETRY_DELAY=5.0
VIDEO_GENERATION_RETRY_BACKOFF=2.0

# ==================== Task Management ====================
# Storage backend: memory or redis
TASK_STORAGE_BACKEND=memory
# Redis URL (only needed if TASK_STORAGE_BACKEND=redis)
REDIS_URL=redis://localhost:6379
# Task retention period in hours
TASK_RETENTION_HOURS=24
# Maximum concurrent tasks
MAX_CONCURRENT_TASKS=10

# ==================== Concurrency Configuration ====================
IMAGE_MAX_CONCURRENT=3
VIDEO_MAX_CONCURRENT=2

# ==================== Logging Configuration ====================
LOG_DIR=./logs
LOG_ROTATION=1 day
LOG_RETENTION=30 days

# ==================== Optional Features ====================
ENABLE_IMAGE_TO_IMAGE=true
ENABLE_SMART_DURATION=true
ENABLE_CHARACTER_REFERENCES=true

