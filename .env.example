# ==========================================
# 图片生成服务配置
# ==========================================

# 图片生成服务选择: doubao (豆包，默认) 或 nano_banana
IMAGE_SERVICE_TYPE=doubao

# Doubao (豆包) API配置 - 默认使用
DOUBAO_API_KEY=your_doubao_api_key_here
DOUBAO_BASE_URL=https://ark.cn-beijing.volces.com
DOUBAO_ENDPOINT=/api/v3/images/generations
DOUBAO_MODEL=doubao-seedream-4-5-251128

# Nano Banana Pro API配置 - 备选
NANO_BANANA_API_KEY=your_nano_banana_api_key_here
NANO_BANANA_BASE_URL=https://api.nanobananapro.com/v1
NANO_BANANA_ENDPOINT=/v1/images/generations
NANO_BANANA_MODEL=dall-e-3

# ==========================================
# 视频生成服务配置
# ==========================================

# Veo3 API配置（视频生成 - OpenAI 格式）
VEO3_API_KEY=your_veo3_api_key_here
VEO3_BASE_URL=https://api.kuai.host
VEO3_ENDPOINT=/v1/videos
VEO3_MODEL=veo_3_1  # 可选：veo_3_1 或 veo_3_1-fast
VEO3_SKIP_UPLOAD=true  # OpenAI 格式使用 multipart，无需单独上传

# 视频生成重试配置
VIDEO_GENERATION_MAX_RETRIES=3  # 最大重试次数
VIDEO_GENERATION_RETRY_DELAY=5.0  # 重试间隔（秒）
VIDEO_GENERATION_RETRY_BACKOFF=2.0  # 重试延迟倍增因子

# Midjourney API配置（图片生成 - 备选）
MIDJOURNEY_API_KEY=your_midjourney_api_key_here
MIDJOURNEY_BASE_URL=https://api.kuai.host
MIDJOURNEY_BOT_TYPE=MID_JOURNEY  # MID_JOURNEY 或 NIJI_JOURNEY
MIDJOURNEY_POLL_INTERVAL=3.0  # 轮询间隔（秒）
MIDJOURNEY_MAX_POLL_ATTEMPTS=100  # 最大轮询次数
MIDJOURNEY_AUTO_UPSCALE=false  # 是否自动upscale获取单张图
MIDJOURNEY_UPSCALE_INDEX=1  # 选择upscale哪一张1-4

# ==========================================
# 应用配置
# ==========================================

OUTPUT_DIR=./output
TEMP_DIR=./temp
LOG_LEVEL=INFO
MAX_CONCURRENT_REQUESTS=5

# ==========================================
# 角色一致性配置
# ==========================================

# 是否启用角色参考图生成
ENABLE_CHARACTER_REFERENCES=true

# 角色参考图模式: single_multi_view (单张多视角，推荐) 或 multiple_single_view (多张单视角)
CHARACTER_REFERENCE_MODE=single_multi_view

# 最大参考图数量
MAX_REFERENCE_IMAGES=4

# 参考图尺寸（像素）
REFERENCE_IMAGE_SIZE=1024

# 参考图生成参数
REFERENCE_CFG_SCALE=8.0
REFERENCE_STEPS=60

# 角色艺术风格: realistic (写实，默认), anime (动漫), semi_realistic (半写实)
CHARACTER_ART_STYLE=realistic

# 场景图生成参数
SCENE_CFG_SCALE=7.5
SCENE_STEPS=50

# 图生图配置
ENABLE_IMAGE_TO_IMAGE=true  # 是否启用图生图（基于角色参考图）
REFERENCE_IMAGE_WEIGHT=0.7  # 参考图权重 (0.0-1.0)，控制对参考图的遵循程度

# ==========================================
# 可选配置
# ==========================================

# OpenAI配置（用于剧本优化）
OPENAI_API_KEY=your_openai_api_key_here

# ==========================================
# LLM配置（用于提示词优化）
# ==========================================

# LLM API配置（使用OpenAI兼容接口）
FAST_LLM_API_KEY=sk-a5f209d824d54b6883fbc397f9fb4e28
FAST_LLM_API_URL=https://dashscope.aliyuncs.com/compatible-mode/v1
FAST_LLM_MODEL=qwen3-next-80b-a3b-instruct

# 是否启用提示词优化（true/false）
ENABLE_PROMPT_OPTIMIZATION=true

# ==========================================
# Judge LLM配置（用于角色一致性评分）
# ==========================================

# Judge LLM API配置（火山引擎方舟API）
JUDGE_LLM_API_KEY=your_judge_llm_api_key_here
JUDGE_LLM_API_URL=https://ark.cn-beijing.volces.com/api/v3
JUDGE_LLM_MODEL=doubao-seed-1-6-251015

# 是否启用角色一致性评分（true/false）
ENABLE_CHARACTER_CONSISTENCY_JUDGE=true

# 每个场景生成的候选图片数量（1-5，建议3-5）
CANDIDATE_IMAGES_PER_SCENE=3

# Judge LLM温度参数（0.0-1.0，越低越稳定）
JUDGE_TEMPERATURE=0.3
