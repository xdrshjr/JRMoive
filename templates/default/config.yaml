# AI Drama Generation Project Configuration
# This is the default template with all available options documented

# ==================== Project Metadata ====================
project:
  name: "my_drama"  # Will be set during project creation
  description: "A short drama generated by AI"
  author: "AI Scriptwriter"
  version: "1.0"

# ==================== Script Configuration ====================
script:
  file: "script.yaml"  # Script filename (relative to project folder)
  encoding: "utf-8"    # Script file encoding

# ==================== Character Configuration ====================
characters:
  # Enable character reference generation for visual consistency
  enable_references: true

  # Reference generation mode:
  # - "single_multi_view": Single image with multiple character views
  # - "multiple_single_view": Separate images for each view
  reference_mode: "single_multi_view"

  # Art style for character references:
  # - "realistic": Photorealistic style
  # - "anime": Anime/manga style
  # - "semi_realistic": Semi-realistic style
  art_style: "realistic"

  # Character-specific image configuration (optional)
  # Uncomment and configure to use pre-existing character images or customize generation
  # reference_images:
  #   角色名:
  #     mode: "generate"  # "generate" to create new, "load" to use existing
  #     views: ["front_view", "side_view", "close_up"]  # Only for mode="generate"
  #   另一个角色:
  #     mode: "load"      # Load existing images
  #     images:
  #       - "characters/character_ref1.png"
  #       - "characters/character_ref2.png"

# ==================== Image Generation ====================
image:
  # Image generation service:
  # - "doubao": Doubao (豆包) service (recommended, supports image-to-image)
  # - "nano_banana": Nano Banana Pro service
  # - "midjourney": Midjourney service
  service: "doubao"

  # Maximum concurrent image generation tasks (1-10)
  # Higher values = faster generation but more API load
  # Recommended: 3-5 for most use cases
  max_concurrent: 5

  # Image resolution
  width: 1920
  height: 1080

  # Image quality: "low", "medium", "high", "ultra"
  quality: "high"

  # Advanced parameters
  cfg_scale: 7.5              # CFG scale (1.0-20.0)
  steps: 60                   # Generation steps (20-100)
  enable_image_to_image: true # Use character references for consistency
  reference_weight: 0.7       # Weight of character reference (0.0-1.0)
  watermark: false

# ==================== Video Generation ====================
video:
  # Video generation service
  service: "veo3"

  # Maximum concurrent video generation tasks (1-5)
  # Higher values = faster generation but more API load
  # Recommended: 2-3 for video generation (slower than images)
  max_concurrent: 2

  # Video settings
  fps: 30                     # Frames per second (24-60)
  resolution: "1920x1080"     # Video resolution
  motion_strength: 0.6        # Camera motion strength (0.0-1.0)
  model: "veo_3_1"            # Video generation model

# ==================== Video Composition ====================
composer:
  # Transition settings
  add_transitions: true
  transition_type: "fade"      # "fade", "crossfade", "dissolve", "none"
  transition_duration: 0.5     # Transition duration in seconds (0.0-2.0)

  # Encoding settings
  fps: 30                      # Output FPS (must match video.fps)
  preset: "medium"             # FFmpeg preset: "ultrafast", "fast", "medium", "slow"
  threads: 4                   # Encoding threads (1-16)

  # Background music (BGM)
  bgm:
    enabled: false
    file: null                 # Path to BGM file (relative to project folder)
    volume: 0.3                # BGM volume (0.0-1.0)

  # Subtitles (future feature)
  subtitles:
    enabled: false

# ==================== Output Configuration ====================
output:
  directory: "outputs"         # Output directory (relative to project folder)
  filename: "my_drama.mp4"     # Output video filename (will be set during creation)
  save_intermediate: true      # Save intermediate images and videos

  # Metadata generation
  metadata:
    enabled: true
    format: "json"             # "json" or "yaml"

# ==================== Performance Configuration ====================
performance:
  max_concurrent_requests: 5   # Global max concurrent requests (1-20)
  enable_checkpoints: true     # Enable checkpoint saving for resume

# ==================== Logging Configuration ====================
logging:
  level: "INFO"                # "DEBUG", "INFO", "WARNING", "ERROR"
  save_to_file: true
  file: "outputs/generation.log"  # Log file path (relative to project folder)

# ==================== UI Configuration ====================
# Enable global progress bar display at bottom of screen
# When enabled, progress bar is shown at the bottom with logs above
# When disabled, uses traditional log-only output
enable_global_progress_bar: true

# ==================== API Keys Configuration ====================
# You can configure API keys here OR in the .env file
# Priority: config.yaml > .env file
# If not set here, will fall back to environment variables
api_keys:
  # Image generation services (configure the one you're using)
  doubao_api_key: null           # Doubao (豆包) API key
  # nano_banana_api_key: null    # Nano Banana Pro API key
  # midjourney_api_key: null     # Midjourney API key

  # Video generation service
  veo3_api_key: null             # Veo3 API key

  # Optional services
  # openai_api_key: null         # OpenAI API key (optional)
